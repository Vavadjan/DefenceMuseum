/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
!function() {

;// CONCATENATED MODULE: ./repo/js/libs/throttle.js
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
var throttle = function throttle(callback, delay) {
  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var timeOut = null,
    argsMemo;
  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    if (timeOut) {
      argsMemo = args;
    } else {
      if (options.noLeadingCall) {
        argsMemo = args;
      } else {
        callback.apply(void 0, args);
      }
      schedule();
    }
    function schedule() {
      timeOut = setTimeout(function () {
        if (argsMemo) {
          callback.apply(void 0, _toConsumableArray(argsMemo));
          argsMemo = null;
        }
        timeOut = null;
      }, delay);
    }
  };
};
var throttleByKey = function throttleByKey(callback, delay) {
  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
    noLeadingCall = _ref.noLeadingCall;
  var memo = new Map();
  var timeOut = null,
    argsMemo;
  return function (key) {
    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
      args[_key2 - 1] = arguments[_key2];
    }
    if (timeOut) {
      memo.set(key, args);
    } else {
      if (noLeadingCall) {
        memo.set(key, args);
      } else {
        callback.apply(void 0, args);
      }
      schedule();
    }
    function schedule() {
      timeOut = setTimeout(function () {
        memo.forEach(function (args) {
          callback.apply(void 0, _toConsumableArray(args));
        });
        memo.clear();
        timeOut = null;
      }, delay);
    }
  };
};
;// CONCATENATED MODULE: ./repo/js/libs/rangeInputCustomStyle.js


function initRangeInputCustomStyle() {
  var elements = document.querySelectorAll("input[type='range']");
  var recalcProgress = throttle(function (elem) {
    var minValue = +elem.getAttribute("min");
    var maxValue = +elem.getAttribute("max");
    var currentValue = elem.value;
    var progress = (currentValue - minValue) / (maxValue - minValue) * 100;
    elem.style.setProperty("--progress", "".concat(progress, "%"));
  }, 25);
  var inputHandler = function inputHandler(event) {
    recalcProgress(event.currentTarget);
  };
  elements.forEach(function (elem) {
    elem.addEventListener("input", inputHandler);
    recalcProgress(elem);
  });
}
;// CONCATENATED MODULE: ./repo/js/libs/logger.js
var onlyErrorsToConsole = false;
var consoleLogs = true;
var consoleDebug = true;
var alertOnError = false;
var alertOnLog = false;
function log() {
  if (!onlyErrorsToConsole) {
    var _console;
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    if (consoleLogs) (_console = console).log.apply(_console, args);
    if (alertOnLog) alert(args.join(" :: "));
  }
}
function debug() {
  var _console2;
  if (!onlyErrorsToConsole && consoleDebug) (_console2 = console).debug.apply(_console2, arguments);
}
function error() {
  var _console3;
  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }
  if (!onlyErrorsToConsole && consoleDebug) (_console3 = console).error.apply(_console3, args);
  if (alertOnError) alert(args.join(" :: "));
}
;// CONCATENATED MODULE: ./repo/js/libs/utils.js
function isEmpty(value) {
  return value === null || value === undefined || value === "";
}
function getTargetElem(target) {
  if (target instanceof HTMLElement) {
    return target;
  } else {
    var elem = document.querySelector(target);
    if (!elem) new Error("Cannot find the target by selector: ".concat(target));
    return elem;
  }
}
function formatPrice(value) {
  var normalizedValue = typeof value === "string" ? value.trim().replace(" ", "") : String(value);
  var result = [];
  var tmp = normalizedValue.split("");
  // return normalizedValue.split(/\B(?=(\d{3})+$)/).join(" ");
  while (tmp.length > 0) {
    result.unshift(tmp.splice(-3).join(""));
  }
  return result.join(" ");
}
function forEachProp(obj, callback) {
  var keys = Object.keys(obj);
  for (var i = 0; i < keys.length; i++) {
    callback(keys[i], obj[keys[i]]);
  }
}
;
var createElem = function createElem(name, attrs, container) {
  var el = document.createElement(name);
  if (attrs) forEachProp(attrs, function (key, value) {
    return el.setAttribute(key, value);
  });
  if (container) container.appendChild(el);
  return el;
};
var normalizeString = function normalizeString(value) {
  return String(value).toLowerCase().trim();
};
;// CONCATENATED MODULE: ./repo/js/libs/debounce.js
var debounce = function debounce(callback, delay) {
  var timeOut = null;
  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    if (timeOut) {
      clearTimeout(timeOut);
      timeOut = null;
    }
    timeOut = setTimeout(function () {
      timeOut = null;
      callback.apply(void 0, args);
    }, delay);
  };
};
;// CONCATENATED MODULE: ./repo/js/libs/functions.js
/* Проверка поддержки webp, добавление класса webp или no-webp для HTML */
function isWebp() {
  // Проверка поддержки webp 
  function testWebP(callback) {
    var webP = new Image();
    webP.onload = webP.onerror = function () {
      callback(webP.height == 2);
    };
    webP.src = "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";
  }
  // Добавление класса _webp или _no-webp для HTML
  testWebP(function (support) {
    var className = support === true ? 'webp' : 'no-webp';
    document.documentElement.classList.add(className);
  });
}
/* Проверка мобильного браузера */
var isMobile = {
  Android: function Android() {
    return navigator.userAgent.match(/Android/i);
  },
  BlackBerry: function BlackBerry() {
    return navigator.userAgent.match(/BlackBerry/i);
  },
  iOS: function iOS() {
    return navigator.userAgent.match(/iPhone|iPad|iPod/i);
  },
  Opera: function Opera() {
    return navigator.userAgent.match(/Opera Mini/i);
  },
  Windows: function Windows() {
    return navigator.userAgent.match(/IEMobile/i);
  },
  any: function any() {
    return isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows();
  }
};
/* Добавление класса touch для HTML если браузер мобильный */
function addTouchClass() {
  // Добавление класса _touch для HTML если браузер мобильный
  if (isMobile.any()) document.documentElement.classList.add('touch');
}
// Добавление loaded для HTML после полной загрузки страницы
function addLoadedClass() {
  window.addEventListener("load", function () {
    setTimeout(function () {
      document.documentElement.classList.add('loaded');
    }, 0);
  });
}
// Получение хеша в адресе сайта
function getHash() {
  if (location.hash) {
    return location.hash.replace('#', '');
  }
}
// Указание хеша в адресе сайта
function setHash(hash) {
  hash = hash ? "#".concat(hash) : window.location.href.split('#')[0];
  history.pushState('', '', hash);
}
// Учет плавающей панели на мобильных устройствах при 100vh
function fullVHfix() {
  var fullScreens = document.querySelectorAll('[data-fullscreen]');
  if (fullScreens.length && isMobile.any()) {
    var fixHeight = function fixHeight() {
      var vh = window.innerHeight * 0.01;
      document.documentElement.style.setProperty('--vh', "".concat(vh, "px"));
    };
    window.addEventListener('resize', fixHeight);
    fixHeight();
  }
}
// Вспомогательные модули плавного расскрытия и закрытия объекта ======================================================================================================================================================================
var _slideUp = function _slideUp(target) {
  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;
  var showmore = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
  if (!target.classList.contains('_slide')) {
    target.classList.add('_slide');
    target.style.transitionProperty = 'height, margin, padding';
    target.style.transitionDuration = duration + 'ms';
    target.style.height = "".concat(target.offsetHeight, "px");
    target.offsetHeight;
    target.style.overflow = 'hidden';
    target.style.height = showmore ? "".concat(showmore, "px") : "0px";
    target.style.paddingTop = 0;
    target.style.paddingBottom = 0;
    target.style.marginTop = 0;
    target.style.marginBottom = 0;
    window.setTimeout(function () {
      target.hidden = !showmore ? true : false;
      !showmore ? target.style.removeProperty('height') : null;
      target.style.removeProperty('padding-top');
      target.style.removeProperty('padding-bottom');
      target.style.removeProperty('margin-top');
      target.style.removeProperty('margin-bottom');
      !showmore ? target.style.removeProperty('overflow') : null;
      target.style.removeProperty('transition-duration');
      target.style.removeProperty('transition-property');
      target.classList.remove('_slide');
      // Создаем событие 
      document.dispatchEvent(new CustomEvent("slideUpDone", {
        detail: {
          target: target
        }
      }));
    }, duration);
  }
};
var _slideDown = function _slideDown(target) {
  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;
  var showmore = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
  if (!target.classList.contains('_slide')) {
    target.classList.add('_slide');
    target.hidden = target.hidden ? false : null;
    showmore ? target.style.removeProperty('height') : null;
    var height = target.offsetHeight;
    target.style.overflow = 'hidden';
    target.style.height = showmore ? "".concat(showmore, "px") : "0px";
    target.style.paddingTop = 0;
    target.style.paddingBottom = 0;
    target.style.marginTop = 0;
    target.style.marginBottom = 0;
    target.offsetHeight;
    target.style.transitionProperty = "height, margin, padding";
    target.style.transitionDuration = duration + 'ms';
    target.style.height = height + 'px';
    target.style.removeProperty('padding-top');
    target.style.removeProperty('padding-bottom');
    target.style.removeProperty('margin-top');
    target.style.removeProperty('margin-bottom');
    window.setTimeout(function () {
      target.style.removeProperty('height');
      target.style.removeProperty('overflow');
      target.style.removeProperty('transition-duration');
      target.style.removeProperty('transition-property');
      target.classList.remove('_slide');
      // Создаем событие 
      document.dispatchEvent(new CustomEvent("slideDownDone", {
        detail: {
          target: target
        }
      }));
    }, duration);
  }
};
var _slideToggle = function _slideToggle(target) {
  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;
  if (target.hidden) {
    return _slideDown(target, duration);
  } else {
    return _slideUp(target, duration);
  }
};
// Вспомогательные модули блокировки прокрутки и скочка ====================================================================================================================================================================================================================================================================================
var bodyLockStatus = true;
var bodyLockToggle = function bodyLockToggle() {
  var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;
  if (document.documentElement.classList.contains('lock')) {
    bodyUnlock(delay);
  } else {
    bodyLock(delay);
  }
};
var bodyUnlock = function bodyUnlock() {
  var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;
  var body = document.querySelector("body");
  if (bodyLockStatus) {
    var lock_padding = document.querySelectorAll("[data-lp]");
    setTimeout(function () {
      for (var index = 0; index < lock_padding.length; index++) {
        var el = lock_padding[index];
        el.style.paddingRight = '0px';
      }
      body.style.paddingRight = '0px';
      document.documentElement.classList.remove("lock");
    }, delay);
    bodyLockStatus = false;
    setTimeout(function () {
      bodyLockStatus = true;
    }, delay);
  }
};
var bodyLock = function bodyLock() {
  var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;
  var body = document.querySelector("body");
  if (bodyLockStatus) {
    var lock_padding = document.querySelectorAll("[data-lp]");
    for (var index = 0; index < lock_padding.length; index++) {
      var el = lock_padding[index];
      el.style.paddingRight = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';
    }
    body.style.paddingRight = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';
    document.documentElement.classList.add("lock");
    bodyLockStatus = false;
    setTimeout(function () {
      bodyLockStatus = true;
    }, delay);
  }
};
// Модуль работы со спойлерами =======================================================================================================================================================================================================================
/*
Документация по работе в шаблоне: https://template.fls.guru/template-docs/modul-spojlery.html
Сниппет (HTML): spollers
*/
function spollers() {
  var spollersArray = document.querySelectorAll('[data-spollers]');
  if (spollersArray.length > 0) {
    // Инициализация
    var initSpollers = function initSpollers(spollersArray) {
      var matchMedia = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      spollersArray.forEach(function (spollersBlock) {
        spollersBlock = matchMedia ? spollersBlock.item : spollersBlock;
        if (matchMedia.matches || !matchMedia) {
          spollersBlock.classList.add('_spoller-init');
          initSpollerBody(spollersBlock);
          spollersBlock.addEventListener("click", setSpollerAction);
        } else {
          spollersBlock.classList.remove('_spoller-init');
          initSpollerBody(spollersBlock, false);
          spollersBlock.removeEventListener("click", setSpollerAction);
        }
      });
    }; // Работа с контентом
    var initSpollerBody = function initSpollerBody(spollersBlock) {
      var hideSpollerBody = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
      var spollerTitles = spollersBlock.querySelectorAll('[data-spoller]');
      if (spollerTitles.length) {
        spollerTitles = Array.from(spollerTitles).filter(function (item) {
          return item.closest('[data-spollers]') === spollersBlock;
        });
        spollerTitles.forEach(function (spollerTitle) {
          if (hideSpollerBody) {
            spollerTitle.removeAttribute('tabindex');
            if (!spollerTitle.classList.contains('_spoller-active')) {
              spollerTitle.nextElementSibling.hidden = true;
            }
          } else {
            spollerTitle.setAttribute('tabindex', '-1');
            spollerTitle.nextElementSibling.hidden = false;
          }
        });
      }
    };
    var setSpollerAction = function setSpollerAction(e) {
      var el = e.target;
      if (el.closest('[data-spoller]')) {
        var spollerTitle = el.closest('[data-spoller]');
        var spollersBlock = spollerTitle.closest('[data-spollers]');
        var oneSpoller = spollersBlock.hasAttribute('data-one-spoller');
        var spollerSpeed = spollersBlock.dataset.spollersSpeed ? parseInt(spollersBlock.dataset.spollersSpeed) : 500;
        if (!spollersBlock.querySelectorAll('._slide').length) {
          if (oneSpoller && !spollerTitle.classList.contains('_spoller-active')) {
            hideSpollersBody(spollersBlock);
          }
          spollerTitle.classList.toggle('_spoller-active');
          _slideToggle(spollerTitle.nextElementSibling, spollerSpeed);
        }
        e.preventDefault();
      }
    };
    var hideSpollersBody = function hideSpollersBody(spollersBlock) {
      var spollerActiveTitle = spollersBlock.querySelector('[data-spoller]._spoller-active');
      var spollerSpeed = spollersBlock.dataset.spollersSpeed ? parseInt(spollersBlock.dataset.spollersSpeed) : 500;
      if (spollerActiveTitle && !spollersBlock.querySelectorAll('._slide').length) {
        spollerActiveTitle.classList.remove('_spoller-active');
        _slideUp(spollerActiveTitle.nextElementSibling, spollerSpeed);
      }
    }; // Закрытие при клике вне спойлера
    // Получение обычных слойлеров
    var spollersRegular = Array.from(spollersArray).filter(function (item, index, self) {
      return !item.dataset.spollers.split(",")[0];
    });
    // Инициализация обычных слойлеров
    if (spollersRegular.length) {
      initSpollers(spollersRegular);
    }
    // Получение слойлеров с медиа запросами
    var mdQueriesArray = dataMediaQueries(spollersArray, "spollers");
    if (mdQueriesArray && mdQueriesArray.length) {
      mdQueriesArray.forEach(function (mdQueriesItem) {
        // Событие
        mdQueriesItem.matchMedia.addEventListener("change", function () {
          initSpollers(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);
        });
        initSpollers(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);
      });
    }
    var spollersClose = document.querySelectorAll('[data-spoller-close]');
    if (spollersClose.length) {
      document.addEventListener("click", function (e) {
        var el = e.target;
        if (!el.closest('[data-spollers]')) {
          spollersClose.forEach(function (spollerClose) {
            var spollersBlock = spollerClose.closest('[data-spollers]');
            if (spollersBlock.classList.contains('_spoller-init')) {
              var spollerSpeed = spollersBlock.dataset.spollersSpeed ? parseInt(spollersBlock.dataset.spollersSpeed) : 500;
              spollerClose.classList.remove('_spoller-active');
              _slideUp(spollerClose.nextElementSibling, spollerSpeed);
            }
          });
        }
      });
    }
  }
}
// Модуь работы с табами =======================================================================================================================================================================================================================
/*
Документация по работе в шаблоне: https://template.fls.guru/template-docs/modul-taby.html
Сниппет (HTML): tabs
*/
function tabs() {
  var tabs = document.querySelectorAll('[data-tabs]');
  var tabsActiveHash = [];
  if (tabs.length > 0) {
    var hash = getHash();
    if (hash && hash.startsWith('tab-')) {
      tabsActiveHash = hash.replace('tab-', '').split('-');
    }
    tabs.forEach(function (tabsBlock, index) {
      tabsBlock.classList.add('_tab-init');
      tabsBlock.setAttribute('data-tabs-index', index);
      tabsBlock.addEventListener("click", setTabsAction);
      initTabs(tabsBlock);
    });

    // Получение слойлеров с медиа запросами
    var mdQueriesArray = dataMediaQueries(tabs, "tabs");
    if (mdQueriesArray && mdQueriesArray.length) {
      mdQueriesArray.forEach(function (mdQueriesItem) {
        // Событие
        mdQueriesItem.matchMedia.addEventListener("change", function () {
          setTitlePosition(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);
        });
        setTitlePosition(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);
      });
    }
  }
  // Установка позиций заголовков
  function setTitlePosition(tabsMediaArray, matchMedia) {
    tabsMediaArray.forEach(function (tabsMediaItem) {
      tabsMediaItem = tabsMediaItem.item;
      var tabsTitles = tabsMediaItem.querySelector('[data-tabs-titles]');
      var tabsTitleItems = tabsMediaItem.querySelectorAll('[data-tabs-title]');
      var tabsContent = tabsMediaItem.querySelector('[data-tabs-body]');
      var tabsContentItems = tabsMediaItem.querySelectorAll('[data-tabs-item]');
      tabsTitleItems = Array.from(tabsTitleItems).filter(function (item) {
        return item.closest('[data-tabs]') === tabsMediaItem;
      });
      tabsContentItems = Array.from(tabsContentItems).filter(function (item) {
        return item.closest('[data-tabs]') === tabsMediaItem;
      });
      tabsContentItems.forEach(function (tabsContentItem, index) {
        if (matchMedia.matches) {
          tabsContent.append(tabsTitleItems[index]);
          tabsContent.append(tabsContentItem);
          tabsMediaItem.classList.add('_tab-spoller');
        } else {
          tabsTitles.append(tabsTitleItems[index]);
          tabsMediaItem.classList.remove('_tab-spoller');
        }
      });
    });
  }
  // Работа с контентом
  function initTabs(tabsBlock) {
    var tabsTitles = tabsBlock.querySelectorAll('[data-tabs-titles]>*');
    var tabsContent = tabsBlock.querySelectorAll('[data-tabs-body]>*');
    var tabsBlockIndex = tabsBlock.dataset.tabsIndex;
    var tabsActiveHashBlock = tabsActiveHash[0] == tabsBlockIndex;
    if (tabsActiveHashBlock) {
      var tabsActiveTitle = tabsBlock.querySelector('[data-tabs-titles]>._tab-active');
      tabsActiveTitle ? tabsActiveTitle.classList.remove('_tab-active') : null;
    }
    if (tabsContent.length) {
      tabsContent = Array.from(tabsContent).filter(function (item) {
        return item.closest('[data-tabs]') === tabsBlock;
      });
      tabsTitles = Array.from(tabsTitles).filter(function (item) {
        return item.closest('[data-tabs]') === tabsBlock;
      });
      tabsContent.forEach(function (tabsContentItem, index) {
        tabsTitles[index].setAttribute('data-tabs-title', '');
        tabsContentItem.setAttribute('data-tabs-item', '');
        if (tabsActiveHashBlock && index == tabsActiveHash[1]) {
          tabsTitles[index].classList.add('_tab-active');
        }
        tabsContentItem.hidden = !tabsTitles[index].classList.contains('_tab-active');
      });
    }
  }
  function setTabsStatus(tabsBlock) {
    var tabsTitles = tabsBlock.querySelectorAll('[data-tabs-title]');
    var tabsContent = tabsBlock.querySelectorAll('[data-tabs-item]');
    var tabsBlockIndex = tabsBlock.dataset.tabsIndex;
    function isTabsAnamate(tabsBlock) {
      if (tabsBlock.hasAttribute('data-tabs-animate')) {
        return tabsBlock.dataset.tabsAnimate > 0 ? Number(tabsBlock.dataset.tabsAnimate) : 500;
      }
    }
    var tabsBlockAnimate = isTabsAnamate(tabsBlock);
    if (tabsContent.length > 0) {
      var isHash = tabsBlock.hasAttribute('data-tabs-hash');
      tabsContent = Array.from(tabsContent).filter(function (item) {
        return item.closest('[data-tabs]') === tabsBlock;
      });
      tabsTitles = Array.from(tabsTitles).filter(function (item) {
        return item.closest('[data-tabs]') === tabsBlock;
      });
      tabsContent.forEach(function (tabsContentItem, index) {
        if (tabsTitles[index].classList.contains('_tab-active')) {
          if (tabsBlockAnimate) {
            _slideDown(tabsContentItem, tabsBlockAnimate);
          } else {
            tabsContentItem.hidden = false;
          }
          if (isHash && !tabsContentItem.closest('.popup')) {
            setHash("tab-".concat(tabsBlockIndex, "-").concat(index));
          }
        } else {
          if (tabsBlockAnimate) {
            _slideUp(tabsContentItem, tabsBlockAnimate);
          } else {
            tabsContentItem.hidden = true;
          }
        }
      });
    }
  }
  function setTabsAction(e) {
    var el = e.target;
    if (el.closest('[data-tabs-title]')) {
      var tabTitle = el.closest('[data-tabs-title]');
      var tabsBlock = tabTitle.closest('[data-tabs]');
      if (!tabTitle.classList.contains('_tab-active') && !tabsBlock.querySelector('._slide')) {
        var tabActiveTitle = tabsBlock.querySelectorAll('[data-tabs-title]._tab-active');
        tabActiveTitle.length ? tabActiveTitle = Array.from(tabActiveTitle).filter(function (item) {
          return item.closest('[data-tabs]') === tabsBlock;
        }) : null;
        tabActiveTitle.length ? tabActiveTitle[0].classList.remove('_tab-active') : null;
        tabTitle.classList.add('_tab-active');
        setTabsStatus(tabsBlock);
      }
      e.preventDefault();
    }
  }
}
// Модуль работы с меню (бургер) =======================================================================================================================================================================================================================
/*
Документация по работе в шаблоне: https://template.fls.guru/template-docs/menu-burger.html
Сниппет (HTML): menu
*/
function menuInit() {
  if (document.querySelector(".icon-menu")) {
    document.addEventListener("click", function (e) {
      if (bodyLockStatus && e.target.closest('.icon-menu')) {
        bodyLockToggle();
        document.documentElement.classList.toggle("menu-open");
      }
    });
  }
  ;
}
function menuOpen() {
  bodyLock();
  document.documentElement.classList.add("menu-open");
}
function menuClose() {
  bodyUnlock();
  document.documentElement.classList.remove("menu-open");
}
// Модуль "показать еще" =======================================================================================================================================================================================================================
/*
Документация по работе в шаблоне: https://template.fls.guru/template-docs/modul-pokazat-eshhjo.html
Сниппет (HTML): showmore
*/
function showMore() {
  window.addEventListener("load", function (e) {
    var showMoreBlocks = document.querySelectorAll('[data-showmore]');
    var showMoreBlocksRegular;
    var mdQueriesArray;
    if (showMoreBlocks.length) {
      // Получение обычных объектов
      showMoreBlocksRegular = Array.from(showMoreBlocks).filter(function (item, index, self) {
        return !item.dataset.showmoreMedia;
      });
      // Инициализация обычных объектов
      showMoreBlocksRegular.length ? initItems(showMoreBlocksRegular) : null;
      document.addEventListener("click", showMoreActions);
      window.addEventListener("resize", showMoreActions);

      // Получение объектов с медиа запросами
      mdQueriesArray = dataMediaQueries(showMoreBlocks, "showmoreMedia");
      if (mdQueriesArray && mdQueriesArray.length) {
        mdQueriesArray.forEach(function (mdQueriesItem) {
          // Событие
          mdQueriesItem.matchMedia.addEventListener("change", function () {
            initItems(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);
          });
        });
        initItemsMedia(mdQueriesArray);
      }
    }
    function initItemsMedia(mdQueriesArray) {
      mdQueriesArray.forEach(function (mdQueriesItem) {
        initItems(mdQueriesItem.itemsArray, mdQueriesItem.matchMedia);
      });
    }
    function initItems(showMoreBlocks, matchMedia) {
      showMoreBlocks.forEach(function (showMoreBlock) {
        initItem(showMoreBlock, matchMedia);
      });
    }
    function initItem(showMoreBlock) {
      var matchMedia = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      showMoreBlock = matchMedia ? showMoreBlock.item : showMoreBlock;
      var showMoreContent = showMoreBlock.querySelectorAll('[data-showmore-content]');
      var showMoreButton = showMoreBlock.querySelectorAll('[data-showmore-button]');
      showMoreContent = Array.from(showMoreContent).filter(function (item) {
        return item.closest('[data-showmore]') === showMoreBlock;
      })[0];
      showMoreButton = Array.from(showMoreButton).filter(function (item) {
        return item.closest('[data-showmore]') === showMoreBlock;
      })[0];
      var hiddenHeight = getHeight(showMoreBlock, showMoreContent);
      if (matchMedia.matches || !matchMedia) {
        if (hiddenHeight < getOriginalHeight(showMoreContent)) {
          _slideUp(showMoreContent, 0, hiddenHeight);
          showMoreButton.hidden = false;
        } else {
          _slideDown(showMoreContent, 0, hiddenHeight);
          showMoreButton.hidden = true;
        }
      } else {
        _slideDown(showMoreContent, 0, hiddenHeight);
        showMoreButton.hidden = true;
      }
    }
    function getHeight(showMoreBlock, showMoreContent) {
      var hiddenHeight = 0;
      var showMoreType = showMoreBlock.dataset.showmore ? showMoreBlock.dataset.showmore : 'size';
      if (showMoreType === 'items') {
        var showMoreTypeValue = showMoreContent.dataset.showmoreContent ? showMoreContent.dataset.showmoreContent : 3;
        var showMoreItems = showMoreContent.children;
        for (var index = 1; index < showMoreItems.length; index++) {
          var showMoreItem = showMoreItems[index - 1];
          hiddenHeight += showMoreItem.offsetHeight;
          if (index == showMoreTypeValue) break;
        }
      } else {
        var _showMoreTypeValue = showMoreContent.dataset.showmoreContent ? showMoreContent.dataset.showmoreContent : 150;
        hiddenHeight = _showMoreTypeValue;
      }
      return hiddenHeight;
    }
    function getOriginalHeight(showMoreContent) {
      var parentHidden;
      var hiddenHeight = showMoreContent.offsetHeight;
      showMoreContent.style.removeProperty('height');
      if (showMoreContent.closest("[hidden]")) {
        parentHidden = showMoreContent.closest("[hidden]");
        parentHidden.hidden = false;
      }
      var originalHeight = showMoreContent.offsetHeight;
      parentHidden ? parentHidden.hidden = true : null;
      showMoreContent.style.height = "".concat(hiddenHeight, "px");
      return originalHeight;
    }
    function showMoreActions(e) {
      var targetEvent = e.target;
      var targetType = e.type;
      if (targetType === 'click') {
        if (targetEvent.closest('[data-showmore-button]')) {
          var showMoreButton = targetEvent.closest('[data-showmore-button]');
          var showMoreBlock = showMoreButton.closest('[data-showmore]');
          var showMoreContent = showMoreBlock.querySelector('[data-showmore-content]');
          var showMoreSpeed = showMoreBlock.dataset.showmoreButton ? showMoreBlock.dataset.showmoreButton : '500';
          var hiddenHeight = getHeight(showMoreBlock, showMoreContent);
          if (!showMoreContent.classList.contains('_slide')) {
            showMoreBlock.classList.contains('_showmore-active') ? _slideUp(showMoreContent, showMoreSpeed, hiddenHeight) : _slideDown(showMoreContent, showMoreSpeed, hiddenHeight);
            showMoreBlock.classList.toggle('_showmore-active');
          }
        }
      } else if (targetType === 'resize') {
        showMoreBlocksRegular && showMoreBlocksRegular.length ? initItems(showMoreBlocksRegular) : null;
        mdQueriesArray && mdQueriesArray.length ? initItemsMedia(mdQueriesArray) : null;
      }
    }
  });
}

//================================================================================================================================================================================================================================================================================================================
// Прочие полезные функции ================================================================================================================================================================================================================================================================================================================
//================================================================================================================================================================================================================================================================================================================
// FLS (Full Logging System)
function FLS(message) {
  setTimeout(function () {
    if (window.FLS) {
      console.log(message);
    }
  }, 0);
}
// Получить цифры из строки
function getDigFromString(item) {
  return parseInt(item.replace(/[^\d]/g, ''));
}
// Форматирование цифр типа 100 000 000
function getDigFormat(item) {
  return item.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, "$1 ");
}
// Убрать класс из всех элементов массива
function removeClasses(array, className) {
  for (var i = 0; i < array.length; i++) {
    array[i].classList.remove(className);
  }
}
// Уникализация массива
function uniqArray(array) {
  return array.filter(function (item, index, self) {
    return self.indexOf(item) === index;
  });
}
// Функция получения индекса внутри родителя
function indexInParent(parent, element) {
  var array = Array.prototype.slice.call(parent.children);
  return Array.prototype.indexOf.call(array, element);
}
;
// Обработа медиа запросов из атрибутов 
function dataMediaQueries(array, dataSetValue) {
  // Получение объектов с медиа запросами
  var media = Array.from(array).filter(function (item, index, self) {
    if (item.dataset[dataSetValue]) {
      return item.dataset[dataSetValue].split(",")[0];
    }
  });
  // Инициализация объектов с медиа запросами
  if (media.length) {
    var breakpointsArray = [];
    media.forEach(function (item) {
      var params = item.dataset[dataSetValue];
      var breakpoint = {};
      var paramsArray = params.split(",");
      breakpoint.value = paramsArray[0];
      breakpoint.type = paramsArray[1] ? paramsArray[1].trim() : "max";
      breakpoint.item = item;
      breakpointsArray.push(breakpoint);
    });
    // Получаем уникальные брейкпоинты
    var mdQueries = breakpointsArray.map(function (item) {
      return '(' + item.type + "-width: " + item.value + "px)," + item.value + ',' + item.type;
    });
    mdQueries = uniqArray(mdQueries);
    var mdQueriesArray = [];
    if (mdQueries.length) {
      // Работаем с каждым брейкпоинтом
      mdQueries.forEach(function (breakpoint) {
        var paramsArray = breakpoint.split(",");
        var mediaBreakpoint = paramsArray[1];
        var mediaType = paramsArray[2];
        var matchMedia = window.matchMedia(paramsArray[0]);
        // Объекты с нужными условиями
        var itemsArray = breakpointsArray.filter(function (item) {
          if (item.value === mediaBreakpoint && item.type === mediaType) {
            return true;
          }
        });
        mdQueriesArray.push({
          itemsArray: itemsArray,
          matchMedia: matchMedia
        });
      });
      return mdQueriesArray;
    }
  }
}
//================================================================================================================================================================================================================================================================================================================
;// CONCATENATED MODULE: ./repo/js/libs/EventEmitter.js
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
var EventEmitter = /*#__PURE__*/function () {
  function EventEmitter() {
    _classCallCheck(this, EventEmitter);
    this.__subscribers = {};
  }
  _createClass(EventEmitter, [{
    key: "on",
    value: function on(name, callback) {
      if (!(name in this.__subscribers)) this.__subscribers[name] = [];
      this.__subscribers[name].push(callback);
    }
  }, {
    key: "off",
    value: function off(name, callback) {
      if (name in this.__subscribers) {
        this.__subscribers[name] = this.__subscribers[name].filter(function (registeredCallback) {
          return registeredCallback === callback;
        });
      }
    }
  }, {
    key: "emit",
    value: function emit(name, payload) {
      if (name in this.__subscribers) {
        this.__subscribers[name].forEach(function (callback) {
          return callback(payload);
        });
      }
    }
  }]);
  return EventEmitter;
}();

;// CONCATENATED MODULE: ./repo/js/libs/audio-player.js
function audio_player_typeof(obj) { "@babel/helpers - typeof"; return audio_player_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, audio_player_typeof(obj); }
function audio_player_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function audio_player_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, audio_player_toPropertyKey(descriptor.key), descriptor); } }
function audio_player_createClass(Constructor, protoProps, staticProps) { if (protoProps) audio_player_defineProperties(Constructor.prototype, protoProps); if (staticProps) audio_player_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function audio_player_toPropertyKey(arg) { var key = audio_player_toPrimitive(arg, "string"); return audio_player_typeof(key) === "symbol" ? key : String(key); }
function audio_player_toPrimitive(input, hint) { if (audio_player_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (audio_player_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (audio_player_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }






var mobileMode = isMobile.any();
var rootClassName = "audio-player";
var trackListRootClassName = "audio-player-track-list";
var activeTrackClassName = "".concat(trackListRootClassName, "__item_active");
log("mobileMode::", mobileMode);
function PlayerTrackList(target, player) {
  var _this = this;
  this.rootElem = getTargetElem(target);
  this.currentTrackIdx = null; // Во внутреннем сортированном списке он же будет соответствовать индексу элемента в DOM дереве
  this.player = player;
  this.listTemplate = "{{#tracks}}\n\t\t\t\t\t\t\t\t\t\t\t\t<li class=\"audio-player-track-list__item hoverable\" data-track-id=\"{{trackId}}\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{name}}\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t{{/tracks}}";
  Mustache.parse(this.listTemplate);
  var trackClickHandler = throttle(function (event) {
    var trackRootElem = event.target.hasAttribute("data-track-id") ? event.target : event.target.closest("".concat(trackListRootClassName, "__item"));
    if (!trackRootElem) return;
    var trackId = trackRootElem.getAttribute("data-track-id");
    log("TrackID:: ", trackId);
    if (_this.selectTrackById(trackId)) {
      if (mobileMode || event.type === "dblclick") {
        _this.playSelectedTrack();
      }
    }
  }, 100);
  this.rootElem.addEventListener("click", trackClickHandler);
  this.rootElem.addEventListener("dblclick", trackClickHandler);
  this.player.on("toNextTrack", function () {
    return _this.nextTrack();
  });
  this.player.on("toPrevTrack", function () {
    return _this.prevTrack();
  });
  this.player.on("ended", function () {
    return _this.playNextTrack();
  });
}
(function (proto) {
  proto.loadTracks = function (tracks) {
    this.originalTracks = tracks;
    this.sortedTracks = this.originalTracks.slice(0);
    this.render(this.sortedTracks);
    this.nextTrack();
  };
  proto.render = function (tracks) {
    this.rootElem.innerHTML = Mustache.render(this.listTemplate, {
      tracks: tracks
    });
  };
  proto.nextTrack = function () {
    var nextTrackIdx = this.getNextTrackIdx();
    log("nextTrack::nextTrackIdx ", nextTrackIdx);
    if (!this.player.playerElem.paused) {
      this.player.pause();
      if (this.selectTrackByIdx(nextTrackIdx)) this.player.play();
    } else {
      this.selectTrackByIdx(nextTrackIdx);
    }
  };
  proto.prevTrack = function () {
    var prevTrackIdx = this.getPrevTrackIdx();
    log("prevTrack::prevTrackIdx ", prevTrackIdx);
    if (!this.player.playerElem.paused) {
      this.player.pause();
      if (this.selectTrackByIdx(prevTrackIdx)) this.player.play();
    } else {
      this.selectTrackByIdx(prevTrackIdx);
    }
  };
  proto.playNextTrack = function () {
    var nextTrackIdx = this.getNextTrackIdx();
    log("nextTrack::playNextTrack ", nextTrackIdx);
    if (nextTrackIdx === this.currentTrackIdx) {
      // Перезагружаем крайний трек без дальнейшего проигрывания
      this.player.playerElem.currentTime = 0;
      this.player.playerElem.load();
    } else {
      if (!this.player.playerElem.paused) {
        this.player.pause();
      }
      if (this.selectTrackByIdx(nextTrackIdx)) this.player.play();
    }
    ;
  };
  proto.playPrevTrack = function () {};
  proto.selectTrackById = function (trackId) {
    var trackIdx = this.sortedTracks.findIndex(function (track) {
      return track.trackId === trackId;
    });
    return this.selectTrackByIdx(trackIdx);
  };
  proto.selectTrackByIdx = function (trackIdx) {
    if (!~trackIdx) return false;
    if (this.currentTrackIdx === trackIdx) return true;
    if (!this.player.playerElem.paused) this.player.pause();
    var trackElem = this.rootElem.children[this.currentTrackIdx];
    if (trackElem instanceof HTMLElement) {
      trackElem.classList.remove(activeTrackClassName);
    }
    this.currentTrackIdx = trackIdx;
    trackElem = this.rootElem.children[trackIdx];
    if (trackElem instanceof HTMLElement) {
      trackElem.classList.add(activeTrackClassName);
    }
    this.player.loadTrack(this.sortedTracks[trackIdx]);
    return true;
  };
  proto.getNextTrackIdx = function () {
    var nextTrackIdx = this.currentTrackIdx === null || this.currentTrackIdx < 0 ? 0 : this.currentTrackIdx + 1;
    return nextTrackIdx >= this.sortedTracks.length ? this.sortedTracks.length - 1 : nextTrackIdx;
  };
  proto.getPrevTrackIdx = function () {
    var prevTrackIdx = this.currentTrackIdx === null || this.currentTrackIdx < 1 ? 0 : this.currentTrackIdx - 1;
    return prevTrackIdx >= this.sortedTracks.length ? this.sortedTracks.length - 1 : prevTrackIdx;
  };
  proto.playSelectedTrack = function () {
    log("playSelectedTrack");
    this.player.play();
  };
})(PlayerTrackList.prototype);
var AudioPlayer = /*#__PURE__*/function (_EventEmitter) {
  _inherits(AudioPlayer, _EventEmitter);
  var _super = _createSuper(AudioPlayer);
  function AudioPlayer(target) {
    var _this2;
    audio_player_classCallCheck(this, AudioPlayer);
    _this2 = _super.call(this);
    _this2.rootElem = getTargetElem(target);
    _this2.playerElem = _this2.rootElem.querySelector("audio");
    _this2.sourceElem = _this2.rootElem.querySelector(".".concat(rootClassName, "__source"));
    _this2.currentTrackImgElem = _this2.rootElem.querySelector(".".concat(rootClassName, "__img > img"));
    _this2.currentTrackNameElem = _this2.rootElem.querySelector(".".concat(rootClassName, "__track-name"));
    _this2.currentTrack = {};
    _this2.controlElems = {
      volume: _this2.rootElem.querySelector(".".concat(rootClassName, "__volume-control")),
      progress: _this2.rootElem.querySelector(".".concat(rootClassName, "__progress-control")),
      prevTrack: _this2.rootElem.querySelector(".".concat(rootClassName, "__prev-track-btn")),
      nextTrack: _this2.rootElem.querySelector(".".concat(rootClassName, "__next-track-btn")),
      play: _this2.rootElem.querySelector(".".concat(rootClassName, "__play-btn")),
      pause: _this2.rootElem.querySelector(".".concat(rootClassName, "__pause-btn")),
      progressTimer: _this2.rootElem.querySelector(".".concat(rootClassName, "__progress-timer"))
    };

    // Volume control
    _this2.controlElems.volume.value = _this2.playerElem.volume * 100;
    _this2.controlElems.volume.dispatchEvent(new Event("input"));
    _this2.controlElems.volume.addEventListener("input", function () {
      _this2.playerElem.volume = _this2.controlElems.volume.value / 100;
    });
    // Play Btn Click
    _this2.controlElems.play.addEventListener("click", function () {
      _this2.play();
    });
    // Pause Btn Click
    _this2.controlElems.pause.addEventListener("click", function () {
      _this2.pause();
    });
    // Prev track btn Click
    _this2.controlElems.prevTrack.addEventListener("click", function () {
      _this2.emit("toPrevTrack");
    });
    // Next track btn Click
    _this2.controlElems.nextTrack.addEventListener("click", function () {
      _this2.emit("toNextTrack");
    });
    // Update progress bar and time
    _this2.playerElem.addEventListener("timeupdate", function () {
      if (_this2.playerElem.paused || _this2.seeking || isNaN(_this2.playerElem.duration)) return;
      _this2.controlElems.progressTimer.textContent = formatSeconds(_this2.playerElem.currentTime);
      _this2.controlElems.progress.value = _this2.playerElem.currentTime / _this2.playerElem.duration * 100;
      var event = new Event("input");
      event.__timeupdate = true;
      _this2.controlElems.progress.dispatchEvent(event);
    });
    // To next track on playback end
    _this2.playerElem.addEventListener("ended", function () {
      _this2.emit("ended");
    });
    // Seek control
    var debouncedSeeking = debounce(function () {
      _this2.playerElem.currentTime = _this2.playerElem.duration * _this2.controlElems.progress.value / 100;
      _this2.play();
    }, 100);
    _this2.controlElems.progress.addEventListener("input", function (event) {
      if (event.__timeupdate || isNaN(_this2.playerElem.duration)) return;
      log(" Seek control :: input");
      if (!_this2.paused) {
        _this2.pause();
      }
      debouncedSeeking();
    });
    return _this2;
  }
  audio_player_createClass(AudioPlayer, [{
    key: "play",
    value: function play(track) {
      log("play:: ", this.playerElem.src, this.playerElem.readyState);
      if (track !== undefined) {
        this.loadTrack(track);
      }
      if (this.playerElem.src) {
        this.playerElem.play();
      }
    }
  }, {
    key: "loadTrack",
    value: function loadTrack(track) {
      this.currentTrackImgElem.src = track.imgUrl;
      this.currentTrackNameElem.textContent = track.name;
      this.playerElem.src = track.fileUrl;
      this.sourceElem.src = track.fileUrl;
      this.playerElem.load();
    }
  }, {
    key: "pause",
    value: function pause() {
      if (this.playerElem.played) this.playerElem.pause();
    }
  }]);
  return AudioPlayer;
}(EventEmitter);
function formatSeconds(sec) {
  var hours = sec / 3600 ^ 0;
  var minutes = sec % 3600 / 60 ^ 0;
  var seconds = sec % 3600 % 60 ^ 0;
  var withoutHours = "".concat(formatTimePart(minutes), ":").concat(formatTimePart(seconds));
  return hours > 0 ? "".concat(formatTimePart(hours), ":").concat(withoutHours) : withoutHours;
}
function formatTimePart(value) {
  return value < 10 ? "0".concat(value) : value;
}
;// CONCATENATED MODULE: ./src/js/pages/audio-guide-player/index.js



var tracks = [
  {
    "name": "0 - Вступление",
    "trackId": "0",
    "imgUrl": "https://museumdefence.ru/audiogid/covers/0 - Вступление.jpeg",
    "imgThumbUrl": "https://museumdefence.ru/audiogid/covers/0 - Вступление.jpeg",
    "fileUrl": "https://museumdefence.ru/audiogid/0 - Вступление.mp3"
  },
  {
    "name": "1 - Начало войны",
    "trackId": "1",
    "imgUrl": "https://museumdefence.ru/audiogid/covers/1 - Начало войны.jpeg",
    "imgThumbUrl": "https://museumdefence.ru/audiogid/covers/1 - Начало войны.jpeg",
    "fileUrl": "https://museumdefence.ru/audiogid/1 - Начало войны.mp3"
  },
  {
    "name": "2 - Батареи",
    "trackId": "2",
    "imgUrl": "https://museumdefence.ru/audiogid/covers/2 - Батареи.jpeg",
    "imgThumbUrl": "https://museumdefence.ru/audiogid/covers/2 - Батареи.jpeg",
    "fileUrl": "https://museumdefence.ru/audiogid/2 - Батареи.mp3"
  },
  {
    "name": "3 - Бронепоезд Железняков",
    "trackId": "3",
    "imgUrl": "https://museumdefence.ru/audiogid/covers/3 - Бронепоезд Железняков.jpeg",
    "imgThumbUrl": "https://museumdefence.ru/audiogid/covers/3 - Бронепоезд Железняков.jpeg",
    "fileUrl": "https://museumdefence.ru/audiogid/3 - Бронепоезд Железняков.mp3"
  },
  {
    "name": "4 - 18 ОБМП",
    "trackId": "4",
    "imgUrl": "https://museumdefence.ru/audiogid/covers/4 - 18 ОБМП.jpeg",
    "imgThumbUrl": "https://museumdefence.ru/audiogid/covers/4 - 18 ОБМП.jpeg",
    "fileUrl": "https://museumdefence.ru/audiogid/4 - 18 ОБМП.mp3"
  },
  {
    "name": "5 - Штольни Инкермана",
    "trackId": "5",
    "imgUrl": "https://museumdefence.ru/audiogid/covers/5 - Штольни Инкермана.jpeg",
    "imgThumbUrl": "https://museumdefence.ru/audiogid/covers/5 - Штольни Инкермана.jpeg",
    "fileUrl": "https://museumdefence.ru/audiogid/5 - Штольни Инкермана.mp3"
  },
  {
    "name": "6 - Дзот №11",
    "trackId": "6",
    "imgUrl": "https://museumdefence.ru/audiogid/covers/6 - Дзот №11.jpeg",
    "imgThumbUrl": "https://museumdefence.ru/audiogid/covers/6 - Дзот №11.jpeg",
    "fileUrl": "https://museumdefence.ru/audiogid/6 - Дзот №11.mp3"
  },
  {
    "name": "7 - 8 БМП",
    "trackId": "7",
    "imgUrl": "https://museumdefence.ru/audiogid/covers/7 - 8 БМП.jpeg",
    "imgThumbUrl": "https://museumdefence.ru/audiogid/covers/7 - 8 БМП.jpeg",
    "fileUrl": "https://museumdefence.ru/audiogid/7 - 8 БМП.mp3"
  },
  {
    "name": "8 - 95 Молдавская дивизия",
    "trackId": "8",
    "imgUrl": "https://museumdefence.ru/audiogid/covers/8 - 95 Молдавская дивизия.jpeg",
    "imgThumbUrl": "https://museumdefence.ru/audiogid/covers/8 - 95 Молдавская дивизия.jpeg",
    "fileUrl": "https://museumdefence.ru/audiogid/8 - 95 Молдавская дивизия.mp3"
  },
  {
    "name": "9 - 40 Кавалерийская дивизия",
    "trackId": "9",
    "imgUrl": "https://museumdefence.ru/audiogid/covers/9 - 40 Кавалерийская дивизия.jpeg",
    "imgThumbUrl": "https://museumdefence.ru/audiogid/covers/9 - 40 Кавалерийская дивизия.jpeg",
    "fileUrl": "https://museumdefence.ru/audiogid/9 - 40 Кавалерийская дивизия.mp3"
  },
  {
    "name": "10 - 172 Стрелковая дивизия",
    "trackId": "10",
    "imgUrl": "https://museumdefence.ru/audiogid/covers/10 - 172 Стрелковая дивизия.jpeg",
    "imgThumbUrl": "https://museumdefence.ru/audiogid/covers/10 - 172 Стрелковая дивизия.jpeg",
    "fileUrl": "https://museumdefence.ru/audiogid/10 - 172 Стрелковая дивизия.mp3"
  },
  {
    "name": "11 - Герои освободители",
    "trackId": "11",
    "imgUrl": "https://museumdefence.ru/audiogid/covers/11 - Герои освободители.jpeg",
    "imgThumbUrl": "https://museumdefence.ru/audiogid/covers/11 - Герои освободители.jpeg",
    "fileUrl": "https://museumdefence.ru/audiogid/11 - Герои освободители.mp3"
  },
  {
    "name": "12 - Ветераны села",
    "trackId": "12",
    "imgUrl": "https://museumdefence.ru/audiogid/covers/12 - Ветераны села.jpeg",
    "imgThumbUrl": "https://museumdefence.ru/audiogid/covers/12 - Ветераны села.jpeg",
    "fileUrl": "https://museumdefence.ru/audiogid/12 - Ветераны села.mp3"
  },
  {
    "name": "13 - Диорама",
    "trackId": "13",
    "imgUrl": "https://museumdefence.ru/audiogid/covers/13 - Диорама.jpeg",
    "imgThumbUrl": "https://museumdefence.ru/audiogid/covers/13 - Диорама.jpeg",
    "fileUrl": "https://museumdefence.ru/audiogid/13 - Диорама.mp3"
  }
];
window.addEventListener("DOMContentLoaded", onLoaded);
function onLoaded() {
  initRangeInputCustomStyle();
  var player = new AudioPlayer("#main-audio-player");
  var trackList = new PlayerTrackList("#main-player-track-list", player);
  trackList.loadTracks(tracks);
  var trackIdToSelect = new URL(location.href).searchParams.get("track-id");
  if (trackIdToSelect !== null) {
    trackList.selectTrackById(trackIdToSelect);
  }
}
}();
// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
!function() {
// extracted by mini-css-extract-plugin

}();
/******/ })()
;